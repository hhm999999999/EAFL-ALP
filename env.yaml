# ────────────────────────────────────────────────────────────
# Conda environment for EAFL-ALP
#
# To create the environment, run:
#   conda env create -f env.yaml
#
# To activate the environment, run:
#   conda activate eafl-alp
# ────────────────────────────────────────────────────────────

name: eafl-alp

channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults

dependencies:
  # ---- Core Environment & Heavy Binaries (managed by Conda) ----
  - python=3.10
  - pip
  - nvidia::cudatoolkit=11.6

  # ---- PyTorch Stack (from the official pytorch channel) ----
  - pytorch::pytorch=1.13.1
  - pytorch::torchvision=0.14.1
  - pytorch::torchaudio=0.13.1

  # ---- Core Scientific Stack (from conda-forge for compatibility) ----
  - numpy=1.26.4
  - scipy=1.12.0
  - numba=0.60.0
  - pandas=2.2.2
  - pyarrow=17.0.0
  - scikit-learn=1.5.0

  # ---- Other Application-level Packages (managed by Pip) ----
  - pip:
    # Classical ML / DP
    - diffprivlib==0.6.4
    - dp-accounting==0.4.3
    # Federated / Parallel
    - flwr==1.1.0
    - ray==2.10.0
    - syft==0.9.2
    # HTTP / API
    - flask==3.1.0
    - fastapi==0.111.0
    - uvicorn==0.30.0
    - requests==2.32.3
    # Visualisation & Logging
    - matplotlib==3.8.4
    - seaborn==0.13.2
    - tensorboard==2.10.1
    - rich==13.7.1
    - tqdm==4.66.4
    # Optimisation / Sweeps
    - optuna==4.1.0
    # Config & CLI
    - omegaconf==2.3.0
    - typer==0.12.5
    - hydra-core==1.3.2
    # Validation / Type
    - jsonschema==4.23.0
    - pydantic==2.6.0
    # Optional data-modality ablations
    - sympy==1.13.1
    - einops==0.7.0
    - scikit-image==0.25.0
    - opencv-python==4.10.0.84
    # Docs & Dev (optional)
    - sphinx==8.1.3
    - sphinx-rtd-theme==3.0.2
    - black==24.3.0
    - ruff==0.7.4